generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["postgresqlExtensions"]
}

datasource db {
  provider   = "postgresql"
  url        = env("DATABASE_URL")
  directUrl  = env("DIRECT_URL")
  extensions = [btree_gin, pg_trgm, uuid_ossp(map: "uuid-ossp")]
}

model User {
  id                      String            @id @default(cuid())
  email                   String            @unique
  username                String            @unique
  passwordHash            String
  role                    UserRole          @default(ADMIN)
  firstName               String?
  lastName                String?
  avatar                  String?
  mfaSecret               String?
  mfaEnabled              Boolean           @default(false)
  mfaRecoveryCodes        String[]          @default([])
  isActive                Boolean           @default(true)
  emailVerified           Boolean           @default(false)
  lastLogin               DateTime?
  lastLoginIp             String?
  lastLoginUserAgent      String?
  loginAttempts           Int               @default(0)
  lockedUntil             DateTime?
  preferences             Json?
  emailVerificationSentAt DateTime?
  passwordResetSentAt     DateTime?
  createdAt               DateTime          @default(now())
  updatedAt               DateTime          @updatedAt
  sessions                Session[]
  apiKeys                 ApiKey[]
  contentDrafts           ContentDraft[]
  approvals               ContentApproval[] @relation("ReviewerApprovals")
  harvestJobs             HarvestJob[]      @relation("JobCreator")
  auditLogs               AuditLog[]        @relation("AuditUser")
  tokens                  UserToken[]
  groups                  UserGroup[]

  @@index([role])
  @@index([isActive])
}

model Session {
  id            String    @id @default(cuid())
  userId        String?
  apiKeyId      String?
  token         String    @unique
  refreshToken  String?   @unique
  ipAddress     String?
  userAgent     String?
  issuedAt      DateTime  @default(now())
  expiresAt     DateTime
  rotatedAt     DateTime?
  revokedAt     DateTime?
  invalidatedAt DateTime?
  createdAt     DateTime  @default(now())

  user   User?   @relation(fields: [userId], references: [id], onDelete: Cascade)
  apiKey ApiKey? @relation(fields: [apiKeyId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([apiKeyId])
  @@index([token])
  @@index([refreshToken])
  @@index([expiresAt])
}

model ApiKey {
  id                String    @id @default(cuid())
  userId            String?
  name              String
  key               String    @unique
  secretHash        String
  permissions       String[]  @default([])
  rateLimit         Int       @default(100)
  lastUsed          DateTime?
  lastUsedIp        String?
  lastUsedUserAgent String?
  expiresAt         DateTime?
  isActive          Boolean   @default(true)
  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt
  revokedAt         DateTime?
  lastRotatedAt     DateTime?

  user      User?      @relation(fields: [userId], references: [id], onDelete: SetNull)
  sessions  Session[]
  auditLogs AuditLog[]

  @@index([userId])
  @@index([isActive])
}

model AuditLog {
  id          String         @id @default(cuid())
  action      AuditAction
  actorId     String?
  actorType   AuditActorType @default(ANONYMOUS)
  userId      String?
  apiKeyId    String?
  entityType  String?
  entityId    String?
  description String?
  changes     Json?
  metadata    Json?
  ipAddress   String?
  userAgent   String?
  status      AuditStatus    @default(SUCCESS)
  occuredAt   DateTime       @default(now())
  createdAt   DateTime       @default(now())

  user   User?   @relation("AuditUser", fields: [userId], references: [id], onDelete: SetNull)
  apiKey ApiKey? @relation(fields: [apiKeyId], references: [id], onDelete: SetNull)

  @@index([actorType, actorId])
  @@index([entityType, entityId])
  @@index([occuredAt])
  @@index([userId])
  @@index([apiKeyId])
}

model ContentDraft {
  id           String           @id @default(cuid())
  userId       String
  contentType  AdminContentType
  contentId    String?
  data         Json
  status       DraftStatus      @default(DRAFT)
  notes        String?
  submittedAt  DateTime?
  lastDiffHash String?
  createdAt    DateTime         @default(now())
  updatedAt    DateTime         @updatedAt

  user      User              @relation(fields: [userId], references: [id], onDelete: Cascade)
  approvals ContentApproval[]

  @@index([userId])
  @@index([contentType, status])
  @@index([submittedAt])
}

model ContentApproval {
  id         String         @id @default(cuid())
  draftId    String
  reviewerId String
  status     ApprovalStatus @default(PENDING)
  comments   String?
  reviewedAt DateTime       @default(now())

  draft    ContentDraft @relation(fields: [draftId], references: [id], onDelete: Cascade)
  reviewer User         @relation("ReviewerApprovals", fields: [reviewerId], references: [id], onDelete: Cascade)

  @@index([draftId])
  @@index([reviewerId])
  @@index([status])
}

model HarvestJob {
  id          String      @id @default(cuid())
  type        HarvestType
  status      JobStatus   @default(PENDING)
  config      Json
  results     Json?
  error       String?
  retryCount  Int         @default(0)
  priority    Int         @default(5)
  scheduledAt DateTime?
  startedAt   DateTime?
  completedAt DateTime?
  createdBy   String?
  createdAt   DateTime    @default(now())

  creator User? @relation("JobCreator", fields: [createdBy], references: [id], onDelete: SetNull)

  @@index([status, type])
  @@index([scheduledAt])
  @@index([priority])
}

model UserToken {
  id         String        @id @default(cuid())
  userId     String
  tokenHash  String        @unique
  tokenType  UserTokenType
  expiresAt  DateTime
  consumedAt DateTime?
  metadata   Json?
  createdAt  DateTime      @default(now())

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId, tokenType])
  @@index([expiresAt])
}

model Group {
  id          String      @id @default(cuid())
  name        String      @unique
  description String?
  permissions String[]    @default([])
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt
  members     UserGroup[]

  @@index([name])
}

model UserGroup {
  id        String   @id @default(cuid())
  userId    String
  groupId   String
  createdAt DateTime @default(now())

  user  User  @relation(fields: [userId], references: [id], onDelete: Cascade)
  group Group @relation(fields: [groupId], references: [id], onDelete: Cascade)

  @@unique([userId, groupId])
  @@index([groupId])
}

model Person {
  id                       String                   @id @default(cuid())
  slug                     String                   @unique
  name                     String
  bio                      String?
  imageUrl                 String?
  profession               ProfessionType           @default(OTHER)
  professionDetail         String?
  nationality              String?
  nationalityDetail        String?
  birthDate                DateTime?
  deathDate                DateTime?
  akaNames                 String[]
  background               String?
  racialGroup              String?
  religion                 String?
  bestKnownFor             String?
  birthPlace               String?
  politicalBeliefs         String?
  politicalParty           String?
  residence                String?
  roleDescription          String?
  yearsActive              String?
  deathPlace               String?
  religionDenomination     String?
  verificationLevel        VerificationLevel        @default(UNVERIFIED)
  verifiedAt               DateTime?
  verifiedBy               String?
  statementCount           Int                      @default(0)
  incidentCount            Int                      @default(0)
  lastActiveDate           DateTime?
  createdAt                DateTime                 @default(now())
  updatedAt                DateTime                 @updatedAt
  fullName                 String?
  firstName                String?
  middleName               String?
  lastName                 String?
  namePrefix               String?
  nameSuffix               String?
  aliases                  String[]
  hebrewName               String?
  arabicName               String?
  nativeName               String?
  dateOfBirth              DateTime?
  age                      Int?
  gender                   Gender?
  nationality_primary_code String?                  @db.VarChar(2) // Computed cache from PersonNationality
  nationality_codes_cached String[]                 @default([]) // Computed cache from PersonNationality
  ethnicity                String[]
  professionArray          Profession[]
  primaryProfession        Profession?
  professionDetails        String?
  industry                 Industry?
  specialization           String?
  yearsExperience          Int?
  educationLevel           EducationLevel?
  degrees                  String[]
  universities             String[]
  academicTitles           String[]
  currentTitle             String?
  currentOrganization      String?
  currentOrgId             String?
  employmentStatus         EmploymentStatus?
  isRetired                Boolean?                 @default(false)
  retirementDate           DateTime?
  shortBio                 String?                  @db.VarChar(500)
  publicFigure             Boolean?                 @default(false)
  celebrityStatus          CelebrityStatus?
  notableFor               String[]
  awards                   String[]
  publications             String[]
  influenceScore           Float?
  influenceLevel           PersonInfluenceLevel?
  hasTwitter               Boolean?                 @default(false)
  twitterHandle            String?
  twitterFollowers         Int?
  twitterVerified          Boolean?                 @default(false)
  hasLinkedIn              Boolean?                 @default(false)
  linkedInUrl              String?
  linkedInConnections      Int?
  hasFacebook              Boolean?                 @default(false)
  facebookUrl              String?
  facebookFollowers        Int?
  hasInstagram             Boolean?                 @default(false)
  instagramHandle          String?
  instagramFollowers       Int?
  totalSocialReach         Int?
  mediaAppearances         Int?                     @default(0)
  citationCount            Int?                     @default(0)
  politicalAffiliation     PoliticalAffiliation?
  politicalLeaning         PoliticalLeaning?
  knownPositions           String[]
  advocacy                 String[]
  isPolitician             Boolean?                 @default(false)
  isActivist               Boolean?                 @default(false)
  isLobbyist               Boolean?                 @default(false)
  boardPositions           Int?                     @default(0)
  hasControversies         Boolean?                 @default(false)
  controversyScore         Float?
  controversyNotes         String?
  reputationStatus         ReputationStatus?
  reputationNotes          String?
  hasBeenCancelled         Boolean?                 @default(false)
  cancelledDate            DateTime?
  cancelledReason          String?
  hasBeenSuspended         Boolean?                 @default(false)
  hasBeenFired             Boolean?                 @default(false)
  hasResigned              Boolean?                 @default(false)
  hasLegalIssues           Boolean?                 @default(false)
  legalIssueNotes          String?
  underInvestigation       Boolean?                 @default(false)
  investigationType        String?
  hasSanctions             Boolean?                 @default(false)
  sanctionDetails          String?
  hasCriminalRecord        Boolean?                 @default(false)
  criminalNotes            String?
  responseCount            Int?                     @default(0)
  sourceCount              Int?                     @default(0)
  criticismsMade           Int?                     @default(0)
  criticismsReceived       Int?                     @default(0)
  supportGiven             Int?                     @default(0)
  supportReceived          Int?                     @default(0)
  firstActivityDate        DateTime?
  lastActivityDate         DateTime?
  mostActiveYear           Int?
  isVerified               Boolean?                 @default(false)
  personVerificationLevel  PersonVerificationLevel? @default(UNVERIFIED)
  verificationDate         DateTime?
  verificationNotes        String?
  wikipediaUrl             String?
  officialWebsite          String?
  linkedInVerified         Boolean?                 @default(false)
  residenceCountry         String?
  residenceState           String?
  residenceCity            String?
  workCountry              String?
  workCity                 String?
  publicEmail              String?
  agentEmail               String?
  pressContact             String?
  isActive                 Boolean?                 @default(true)
  isDeceased               Boolean?                 @default(false)
  deceasedDate             DateTime?
  isBlocked                Boolean?                 @default(false)
  isPEP                    Boolean?                 @default(false)
  isHighProfile            Boolean?                 @default(false)
  publicNotes              String?
  internalNotes            String?
  researchNotes            String?
  editorialNotes           String?
  createdBy                String?
  lastEditedBy             String?
  dataSource               String?
  importSource             String?
  lastReviewDate           DateTime?
  needsReview              Boolean?                 @default(false)
  deathCause               String?
  lastDeathCheck           DateTime?
  caseCount                Int?                     @default(0)
  affiliations             Affiliation[]
  journalistProfile        Journalist?
  repercussions            Repercussion[]           @relation("PersonRepercussions")
  statements               Statement[]              @relation("PersonStatements")
  StatementAuthor          StatementAuthor[]
  cases                    Case[]                   @relation("PersonCases")
  groupStatements          Statement[]              @relation("PersonGroupStatements")
  nationalities            PersonNationality[]

  @@index([slug])
  @@index([verificationLevel])
  @@index([profession])
  @@index([nationality])
  @@index([nationality_primary_code])
}

// ISO 3166-1 Country lookup table
model Country {
  code       String   @id @db.VarChar(2) // ISO 3166-1 alpha-2
  name_en    String
  iso3       String?  @db.VarChar(3) // ISO 3166-1 alpha-3
  m49        Int? // UN M49 numeric code
  flag_emoji String?
  active     Boolean  @default(true)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  personNationalities           PersonNationality[]
  historicalNationalityMappings HistoricalNationalityToCountry[]

  @@index([active])
  @@index([name_en])
}

// Junction table for Person-Country nationality facts
model PersonNationality {
  id           String             @id @default(cuid())
  personId     String
  countryCode  String             @db.VarChar(2)
  type         NationalityType    @default(CITIZENSHIP)
  acquisition  AcquisitionMethod?
  isPrimary    Boolean            @default(false)
  displayOrder Int                @default(0)
  startDate    DateTime?
  endDate      DateTime?
  sourceId     String?
  confidence   Int?
  note         String?
  createdAt    DateTime           @default(now())
  updatedAt    DateTime           @updatedAt

  person  Person  @relation(fields: [personId], references: [id], onDelete: Cascade)
  country Country @relation(fields: [countryCode], references: [code])

  @@unique([personId, countryCode, type, startDate, endDate])
  @@index([personId])
  @@index([countryCode])
  @@index([isPrimary])
  @@index([type])
  @@index([endDate])
}

// Historical nationality reference data
// For nationalities that no longer exist (e.g., Prussian, Austro-Hungarian, Soviet)
model HistoricalNationality {
  id            String   @id @default(cuid())
  name          String   @unique
  earliest_year Int?     @map("earliest_year")
  latest_year   Int?     @map("latest_year")
  note          String?
  createdAt     DateTime @default(now()) @map("createdat")

  countryMappings HistoricalNationalityToCountry[]

  @@index([name])
}

// Maps historical nationalities to modern country codes
// Allows for multiple mappings when historical states split into multiple countries
model HistoricalNationalityToCountry {
  id           String   @id @default(cuid())
  historicalId String   @map("historicalid")
  countryCode  String?  @map("countrycode") @db.VarChar(2)
  confidence   Int? // 0-100 confidence score for the mapping
  note         String?
  createdAt    DateTime @default(now()) @map("createdat")

  historical HistoricalNationality @relation(fields: [historicalId], references: [id], onDelete: Cascade)
  country    Country?              @relation(fields: [countryCode], references: [code])

  @@index([historicalId])
  @@index([countryCode])
}

model Organization {
  id                                                String            @id @default(cuid())
  slug                                              String            @unique
  name                                              String
  type                                              OrganizationType
  description                                       String?
  website                                           String?
  legalName                                         String?
  registrationNumber                                String?
  taxId                                             String?
  isPersonalBrand                                   Boolean           @default(false)
  parentOrganizationId                              String?
  founded                                           DateTime?
  dissolved                                         DateTime?
  headquarters                                      String?
  operatingCountries                                String[]
  verificationLevel                                 VerificationLevel @default(UNVERIFIED)
  verifiedAt                                        DateTime?
  employeeCount                                     Int?
  annualRevenue                                     Float?
  statementCount                                    Int               @default(0)
  incidentCount                                     Int               @default(0)
  createdAt                                         DateTime          @default(now())
  updatedAt                                         DateTime          @updatedAt
  orgType                                           OrgType?          @default(OTHER)
  orgTypeOther                                      String?
  legalStructure                                    LegalStructure?
  taxStatus                                         TaxStatus?
  incorporationDate                                 DateTime?
  incorporationState                                String?
  incorporationCountry                              String?
  personId                                          String?
  ultimateParentId                                  String?
  ownershipPercentage                               Float?
  headquartersCity                                  String?
  caseCount                                         Int?              @default(0)
  affiliations                                      Affiliation[]
  mediaOutlet                                       MediaOutlet?
  parentOrganization                                Organization?     @relation("OrganizationHierarchy", fields: [parentOrganizationId], references: [id])
  subsidiaries                                      Organization[]    @relation("OrganizationHierarchy")
  repercussions                                     Repercussion[]    @relation("OrganizationRepercussions")
  Statement_Statement_onBehalfOfOrgIdToOrganization Statement[]       @relation("Statement_onBehalfOfOrgIdToOrganization")
  statements                                        Statement[]       @relation("OrganizationStatements")
  StatementAuthor                                   StatementAuthor[]
  cases                                             Case[]            @relation("CaseToOrganization")
  groupStatements                                   Statement[]       @relation("OrganizationGroupStatements")
  Case_OrganizationIncidents                        Case[]            @relation("OrganizationIncidents")

  @@index([slug])
  @@index([type])
  @@index([verificationLevel])
}

model MediaOutlet {
  id                String            @id @default(cuid())
  organizationId    String            @unique
  circulationSize   Int?
  primaryLanguage   String            @default("en")
  languages         String[]
  mediaType         String[]
  politicalBias     MediaBias         @default(UNKNOWN)
  credibility       CredibilityRating @default(UNKNOWN)
  factCheckRating   String?
  ownershipType     String?
  majorShareholders String[]
  fundingSources    String[]
  createdAt         DateTime          @default(now())
  updatedAt         DateTime          @updatedAt
  journalists       Journalist[]
  organization      Organization      @relation(fields: [organizationId], references: [id])
  sources           Source[]

  @@index([politicalBias])
  @@index([credibility])
}

model Journalist {
  id               String       @id @default(cuid())
  personId         String       @unique
  currentOutletId  String?
  beat             String[]
  isFreelance      Boolean      @default(false)
  verificationType String?
  twitterHandle    String?
  linkedinProfile  String?
  personalWebsite  String?
  articlesCount    Int          @default(0)
  averageBias      Float?
  createdAt        DateTime     @default(now())
  updatedAt        DateTime     @updatedAt
  currentOutlet    MediaOutlet? @relation(fields: [currentOutletId], references: [id])
  person           Person       @relation(fields: [personId], references: [id])
  sources          Source[]

  @@index([currentOutletId])
}

model Topic {
  id                    String          @id @default(cuid())
  slug                  String          @unique
  name                  String
  displayLabel          String?
  description           String
  searchKeywords        String[]
  priority              Int             @default(0)
  isActive              Boolean         @default(true)
  isFeatured            Boolean         @default(false)
  startDate             DateTime?
  endDate               DateTime?
  location              String?
  incidentCount         Int             @default(0)
  participantCount      Int             @default(0)
  createdAt             DateTime        @default(now())
  updatedAt             DateTime        @updatedAt
  topicType             TopicType?      @default(OTHER)
  scope                 TopicScale?     @default(NATIONAL)
  status                TopicStatus?    @default(ACTIVE)
  aliases               String[]
  parentTopicId         String?
  relatedTopics         String[]
  timelineStart         DateTime?       @db.Timestamptz(6)
  timelineEnd           DateTime?       @db.Timestamptz(6)
  peakDate              DateTime?       @db.Timestamptz(6)
  resolution            String?
  ongoingDevelopments   String?
  statementCount        Int             @default(0)
  sourceCount           Int             @default(0)
  lastActivityAt        DateTime?       @db.Timestamptz(6)
  trendingScore         Float           @default(0)
  controversyScore      Float           @default(0)
  publicInterestScore   Float           @default(0)
  mediaAttentionScore   Float           @default(0)
  politicalImpactScore  Float           @default(0)
  keyFigures            String[]
  affectedOrganizations String[]
  geographicScope       String[]
  relatedPolicies       String[]
  legislationLinks      String[]
  mediaReferences       Json?
  externalLinks         Json?
  searchTerms           String[]
  hashtagsTracked       String[]
  metaData              Json?
  parentTopic           Topic?          @relation("TopicHierarchy", fields: [parentTopicId], references: [id])
  childTopics           Topic[]         @relation("TopicHierarchy")
  cases                 TopicCase[]
  relationsFrom         TopicRelation[] @relation("TopicRelationFrom")
  relationsTo           TopicRelation[] @relation("TopicRelationTo")
  tags                  Tag[]           @relation("TopicTags")

  @@index([slug])
  @@index([topicType])
  @@index([status])
  @@index([scope])
  @@index([isActive])
  @@index([isFeatured])
  @@index([priority])
  @@index([parentTopicId])
  @@index([lastActivityAt])
  @@index([trendingScore])
  @@index([startDate])
  @@index([name])
  @@index([affectedOrganizations], type: Gin)
  @@index([geographicScope], type: Gin)
  @@index([hashtagsTracked], type: Gin)
  @@index([isActive, priority])
  @@index([keyFigures], type: Gin)
  @@index([mediaReferences], type: Gin)
  @@index([metaData], type: Gin)
  @@index([searchKeywords], type: Gin)
  @@index([searchTerms], type: Gin)
  @@index([status, lastActivityAt])
  @@index([topicType, isActive])
}

model Case {
  id                                 String          @id(map: "Incident_pkey") @default(cuid())
  slug                               String          @unique(map: "Incident_slug_key")
  title                              String
  summary                            String
  description                        String
  caseDate                           DateTime
  publicationDate                    DateTime        @default(now())
  status                             CaseStatus      @default(DOCUMENTED)
  severity                           CaseSeverity?
  severityScore                      Int?
  locationCity                       String?
  locationState                      String?
  locationCountry                    String?
  locationDetail                     String?
  mediaFraming                       String?
  triggeringEvent                    String?
  outcome                            String?
  isVerified                         Boolean         @default(false)
  verifiedBy                         String?
  verifiedAt                         DateTime?
  viewCount                          Int             @default(0)
  shareCount                         Int             @default(0)
  createdAt                          DateTime        @default(now())
  updatedAt                          DateTime        @updatedAt
  originatingStatementId             String?
  promotedAt                         DateTime?
  promotedBy                         String?
  promotionReason                    String?
  qualificationScore                 Int?            @default(0)
  responseCount                      Int?            @default(0)
  mediaOutletCount                   Int?            @default(0)
  hasPublicReaction                  Boolean?        @default(false)
  hasRepercussion                    Boolean?        @default(false)
  wasManuallyPromoted                Boolean?        @default(false)
  visibility                         CaseVisibility? @default(PUBLIC)
  isFeatured                         Boolean?        @default(false)
  isArchived                         Boolean?        @default(false)
  archivedAt                         DateTime?
  archivedBy                         String?
  archivedReason                     String?
  prominenceScore                    Int?            @default(50)
  lastReviewedAt                     DateTime?
  lastReviewedBy                     String?
  internalNotes                      String?
  originatingStatement               Statement?      @relation("OriginatingStatement", fields: [originatingStatementId], references: [id])
  repercussions                      Repercussion[]
  sources                            Source[]
  statements                         Statement[]
  TopicCase                          TopicCase[]
  tags                               Tag[]           @relation("CaseTags")
  organizations                      Organization[]  @relation("CaseToOrganization")
  Organization_OrganizationIncidents Organization[]  @relation("OrganizationIncidents")
  people                             Person[]        @relation("PersonCases")
  history                            CaseHistory[]

  @@index([originatingStatementId])
  @@index([qualificationScore])
  @@index([promotedAt])
  @@index([visibility])
  @@index([isFeatured])
  @@index([isArchived])
  @@index([prominenceScore])
  @@index([caseDate], map: "Incident_incidentDate_idx")
  @@index([severity], map: "Incident_severity_idx")
  @@index([slug], map: "Incident_slug_idx")
  @@index([status], map: "Incident_status_idx")
}

model Statement {
  id                                                   String             @id @default(cuid())
  content                                              String
  context                                              String?
  statementType                                        StatementType      @default(ORIGINAL)
  responseType                                         ResponseType?
  statementDate                                        DateTime
  mediumUrl                                            String?
  isVerified                                           Boolean            @default(false)
  verifiedBy                                           String?
  verifiedAt                                           DateTime?
  lostEmployment                                       Boolean            @default(false)
  lostContracts                                        Boolean            @default(false)
  paintedNegatively                                    Boolean            @default(false)
  repercussionDetails                                  String?
  responseImpact                                       String?
  personId                                             String?
  organizationId                                       String?
  respondsToId                                         String?
  caseId                                               String?
  createdAt                                            DateTime           @default(now())
  updatedAt                                            DateTime           @updatedAt
  verificationLevel                                    VerificationLevel? @default(UNVERIFIED)
  medium                                               Medium?
  summary                                              String?            @db.VarChar(500)
  statementTime                                        String?
  responseDepth                                        Int?               @default(0)
  isGroupStatement                                     Boolean?           @default(false)
  onBehalfOfOrgId                                      String?
  speakerRole                                          String?
  responseTime                                         Int?
  platform                                             String?
  socialMediaUrl                                       String?
  socialMediaId                                        String?
  isDeleted                                            Boolean?           @default(false)
  deletedDate                                          DateTime?
  venue                                                String?
  event                                                String?
  becameIncidentDate                                   DateTime?
  incidentTrigger                                      String?
  verificationDate                                     DateTime?
  isDisputed                                           Boolean?           @default(false)
  disputeNotes                                         String?
  responseCount                                        Int?               @default(0)
  criticismCount                                       Int?               @default(0)
  supportCount                                         Int?               @default(0)
  mediaOutlets                                         Int?               @default(0)
  articleCount                                         Int?               @default(0)
  likes                                                Int?
  shares                                               Int?
  views                                                Int?
  hasRepercussions                                     Boolean?           @default(false)
  primarySourceId                                      String?
  contentWarning                                       String?
  isRetracted                                          Boolean?           @default(false)
  retractionDate                                       DateTime?
  retractionText                                       String?
  migratedFromResponse                                 Boolean?           @default(false)
  originalResponseId                                   String?
  createdBy                                            String?
  lastEditedBy                                         String?
  promotedToCases                                      Case[]             @relation("OriginatingStatement")
  repercussionsAbout                                   Repercussion[]     @relation("ResponseStatement")
  repercussionsCaused                                  Repercussion[]     @relation("TriggeringStatement")
  sources                                              Source[]
  case                                                 Case?              @relation(fields: [caseId], references: [id], onDelete: Restrict, map: "Statement_incidentId_fkey")
  Organization_Statement_onBehalfOfOrgIdToOrganization Organization?      @relation("Statement_onBehalfOfOrgIdToOrganization", fields: [onBehalfOfOrgId], references: [id], onUpdate: NoAction, map: "Statement_onBehalfOfOrg_fkey")
  organization                                         Organization?      @relation("OrganizationStatements", fields: [organizationId], references: [id])
  person                                               Person?            @relation("PersonStatements", fields: [personId], references: [id])
  primarySource                                        Source?            @relation("PrimaryStatementSource", fields: [primarySourceId], references: [id], onUpdate: NoAction, map: "Statement_primarySource_fkey")
  respondsTo                                           Statement?         @relation("StatementResponses", fields: [respondsToId], references: [id])
  responses                                            Statement[]        @relation("StatementResponses")
  StatementAuthor                                      StatementAuthor[]
  groupOrganizations                                   Organization[]     @relation("OrganizationGroupStatements")
  groupAuthors                                         Person[]           @relation("PersonGroupStatements")

  @@unique([personId, caseId, content], map: "Statement_personId_incidentId_content_key")
  @@index([statementType])
  @@index([personId])
  @@index([organizationId])
  @@index([respondsToId])
  @@index([hasRepercussions])
  @@index([isVerified])
  @@index([responseType])
  @@index([statementDate])
  @@index([statementType, organizationId])
  @@index([statementType, personId])
  @@index([caseId], map: "Statement_incidentId_idx")
}

model Repercussion {
  id                    String           @id @default(cuid())
  type                  RepercussionType
  description           String
  isTactical            Boolean          @default(false)
  coordinationEvidence  String?
  startDate             DateTime
  endDate               DateTime?
  duration              Int?
  severityScore         Int
  impactDescription     String?
  affectedPersonId      String?
  affectedOrgId         String?
  initiatingOrgs        String[]
  initiatingPersons     String[]
  triggeringStatementId String?
  responseStatementId   String?
  caseId                String
  mediaOutlets          String[]
  coverageIntensity     String?
  outcome               String?
  isOngoing             Boolean          @default(false)
  wasSuccessful         Boolean?
  isVerified            Boolean          @default(false)
  verifiedBy            String?
  createdAt             DateTime         @default(now())
  updatedAt             DateTime         @updatedAt
  affectedOrganization  Organization?    @relation("OrganizationRepercussions", fields: [affectedOrgId], references: [id])
  affectedPerson        Person?          @relation("PersonRepercussions", fields: [affectedPersonId], references: [id])
  case                  Case             @relation(fields: [caseId], references: [id], map: "Repercussion_incidentId_fkey")
  responseStatement     Statement?       @relation("ResponseStatement", fields: [responseStatementId], references: [id])
  triggeringStatement   Statement?       @relation("TriggeringStatement", fields: [triggeringStatementId], references: [id])
  sources               Source[]

  @@index([type])
  @@index([isTactical])
  @@index([affectedPersonId])
  @@index([affectedOrgId])
  @@index([caseId], map: "Repercussion_incidentId_idx")
}

model Source {
  id                   String               @id @default(cuid())
  title                String
  url                  String?
  publication          String?
  publicationSlug      String?
  mediaOutletId        String?
  author               String?
  journalistId         String?
  publishDate          DateTime?
  accessDate           DateTime             @default(now())
  lastVerified         DateTime?
  credibility          CredibilityRating    @default(UNKNOWN)
  isArchived           Boolean              @default(false)
  archiveUrl           String?
  qualityScore         Int?
  hasByline            Boolean              @default(false)
  hasMultipleSources   Boolean              @default(false)
  caseId               String?
  statementId          String?
  repercussionId       String?
  createdAt            DateTime             @default(now())
  updatedAt            DateTime             @updatedAt
  publicationSection   String?
  additionalAuthors    String[]
  lastVerifiedDate     DateTime?            @db.Timestamptz(6)
  sourceType           SourceType?          @default(NEWS_ARTICLE)
  sourceLevel          SourceLevel?         @default(SECONDARY)
  contentType          ContentType?         @default(TEXT)
  credibilityScore     Float?
  credibilityLevel     CredibilityRating?   @default(UNKNOWN)
  verificationStatus   VerificationStatus?  @default(UNVERIFIED)
  verificationDate     DateTime?            @db.Timestamptz(6)
  verifiedBy           String?
  verificationNotes    String?
  factCheckStatus      FactCheckStatus?
  factCheckUrl         String?
  factCheckBy          String?
  archiveDate          DateTime?            @db.Timestamptz(6)
  archiveMethod        ArchiveMethod?
  archiveHash          String?
  requiresArchival     Boolean?             @default(true)
  archivalPriority     Int?                 @default(5)
  contentSnapshot      String?
  screenshotUrl        String?
  pdfUrl               String?
  hasPaywall           Boolean?             @default(false)
  isOpinion            Boolean?             @default(false)
  isEditorial          Boolean?             @default(false)
  isExclusive          Boolean?             @default(false)
  hasDate              Boolean?             @default(false)
  hasSources           Boolean?             @default(false)
  wordCount            Int?
  biasRating           BiasRating?
  biasNote             String?
  isDeleted            Boolean?             @default(false)
  deletionDate         DateTime?            @db.Timestamptz(6)
  deletionReason       String?
  isBroken             Boolean?             @default(false)
  lastCheckDate        DateTime?            @db.Timestamptz(6)
  checkFailCount       Int?                 @default(0)
  contentWarning       String?
  isGraphic            Boolean?             @default(false)
  isSensitive          Boolean?             @default(false)
  citationCount        Int?                 @default(0)
  viewCount            Int?                 @default(0)
  publicNotes          String?
  internalNotes        String?
  topicId              String?
  createdBy            String?
  lastEditedBy         String?
  AffiliationSources   AffiliationSources[]
  case                 Case?                @relation(fields: [caseId], references: [id], map: "Source_incidentId_fkey")
  journalist           Journalist?          @relation(fields: [journalistId], references: [id])
  mediaOutlet          MediaOutlet?         @relation(fields: [mediaOutletId], references: [id])
  repercussion         Repercussion?        @relation(fields: [repercussionId], references: [id])
  statement            Statement?           @relation(fields: [statementId], references: [id])
  primaryForStatements Statement[]          @relation("PrimaryStatementSource")

  @@index([mediaOutletId])
  @@index([credibility])
  @@index([journalistId])
  @@index([statementId])
  @@index([isArchived], map: "idx_source_archived")
  @@index([credibilityLevel], map: "idx_source_credibility")
  @@index([publishDate], map: "idx_source_publish_date")
  @@index([sourceType, sourceLevel], map: "idx_source_type")
  @@index([verificationStatus], map: "idx_source_verification")
  @@index([caseId], map: "Source_incidentId_idx")
}

model Affiliation {
  id                  String               @id @default(cuid())
  role                String
  roleLevel           RoleLevel            @default(MID)
  department          String?
  startDate           DateTime?
  endDate             DateTime?
  isActive            Boolean              @default(true)
  description         String?
  responsibilities    String[]
  appearanceType      String?
  frequency           String?
  isPaid              Boolean?
  compensationType    String?
  personId            String
  organizationId      String
  createdAt           DateTime             @default(now())
  updatedAt           DateTime             @updatedAt
  roleCategory        RoleCategory?
  officialTitle       String?
  shortTitle          String?
  previousRole        String?
  isCurrent           Boolean?             @default(true)
  tenureMonths        Int?
  appointmentType     AppointmentType?
  termLimit           String?
  affiliationType     AffiliationType?
  isPrimary           Boolean?             @default(false)
  isPublic            Boolean?             @default(true)
  isVerified          Boolean?             @default(false)
  employmentStatus    EmploymentStatus?
  isVolunteer         Boolean?             @default(false)
  departureReason     DepartureReason?
  departureNote       String?
  wasTerminated       Boolean?             @default(false)
  wasResignation      Boolean?             @default(false)
  departureIncidentId String?
  hasHiringAuthority  Boolean?             @default(false)
  hasBudgetAuthority  Boolean?             @default(false)
  hasPublicProfile    Boolean?             @default(false)
  hasMediaRole        Boolean?             @default(false)
  influenceLevel      Int?
  authorityScope      String?
  mediaAppearances    Int?                 @default(0)
  speakingEngagements Int?                 @default(0)
  publicStatements    Int?                 @default(0)
  isSpokesperson      Boolean?             @default(false)
  mediaRestrictions   String?
  verificationDate    DateTime?            @db.Timestamptz(6)
  verifiedBy          String?
  verificationSource  String?
  evidenceUrl         String?
  internalNotes       String?
  publicNotes         String?
  isControversial     Boolean?             @default(false)
  controversyNote     String?
  createdBy           String?
  lastEditedBy        String?
  organization        Organization         @relation(fields: [organizationId], references: [id])
  person              Person               @relation(fields: [personId], references: [id])
  AffiliationSources  AffiliationSources[]

  @@unique([personId, organizationId, role])
  @@index([isActive])
  @@index([organizationId])
  @@index([personId])
  @@index([startDate, endDate], map: "idx_affiliation_dates")
  @@index([departureReason], map: "idx_affiliation_departure")
  @@index([organizationId, isActive], map: "idx_affiliation_org_active")
  @@index([personId, isCurrent], map: "idx_affiliation_person_current")
  @@index([roleCategory, roleLevel], map: "idx_affiliation_role")
  @@index([isVerified], map: "idx_affiliation_verified")
}

model Tag {
  id                 String      @id @default(cuid())
  name               String      @unique
  slug               String      @unique
  category           TagCategory @default(OTHER)
  parentTagId        String?
  description        String?
  color              String?
  icon               String?
  isControversial    Boolean     @default(false)
  controversyScore   Int?
  usageCount         Int         @default(0)
  createdAt          DateTime    @default(now())
  updatedAt          DateTime    @updatedAt
  subcategory        String?
  usageGuidelines    String?
  backgroundColor    String?
  controversyNote    String?
  disputedBy         String[]
  preferredBy        String[]
  neutralAlternative String?
  status             TagStatus?  @default(PENDING)
  createdBy          String?
  approvedBy         String?
  approvedDate       DateTime?   @db.Timestamptz(6)
  rejectionReason    String?
  requiresApproval   Boolean?    @default(false)
  restrictedTo       String[]
  incidentCount      Int?        @default(0)
  statementCount     Int?        @default(0)
  personCount        Int?        @default(0)
  orgCount           Int?        @default(0)
  lastUsedAt         DateTime?   @db.Timestamptz(6)
  deprecatedAt       DateTime?   @db.Timestamptz(6)
  caseCount          Int?        @default(0)
  parentTag          Tag?        @relation("TagHierarchy", fields: [parentTagId], references: [id])
  childTags          Tag[]       @relation("TagHierarchy")
  aliases            TagAlias[]
  cases              Case[]      @relation("CaseTags")
  topics             Topic[]     @relation("TopicTags")

  @@index([slug])
  @@index([usageCount])
  @@index([category])
  @@index([isControversial], map: "idx_tag_controversial")
  @@index([category, status], map: "idx_tag_status")
  @@index([usageCount], map: "idx_tag_usage")
}

model TopicCase {
  topicId        String
  incidentId     String
  relevanceScore Int?
  isPrimary      Boolean            @default(false)
  createdAt      DateTime           @default(now())
  relationType   TopicCaseRelation? @default(RELATED)
  notes          String?
  addedBy        String?
  isVerified     Boolean?           @default(false)
  updatedAt      DateTime           @default(now()) @updatedAt @db.Timestamptz(6)
  Case           Case               @relation(fields: [incidentId], references: [id], map: "TopicIncident_incidentId_fkey")
  topic          Topic              @relation(fields: [topicId], references: [id], map: "TopicIncident_topicId_fkey")

  @@id([topicId, incidentId], map: "TopicIncident_pkey")
  @@index([incidentId], map: "TopicIncident_incidentId_idx")
  @@index([relationType], map: "TopicIncident_relationType_idx")
  @@index([topicId], map: "TopicIncident_topicId_idx")
}

model TopicRelation {
  id           String            @id @default(dbgenerated("(gen_random_uuid())::text"))
  fromTopicId  String
  toTopicId    String
  relationType TopicRelationType
  description  String?
  strength     Int?              @default(5)
  isVerified   Boolean?          @default(false)
  createdAt    DateTime          @default(now()) @db.Timestamptz(6)
  updatedAt    DateTime          @default(now()) @updatedAt @db.Timestamptz(6)
  fromTopic    Topic             @relation("TopicRelationFrom", fields: [fromTopicId], references: [id], onDelete: Cascade)
  toTopic      Topic             @relation("TopicRelationTo", fields: [toTopicId], references: [id], onDelete: Cascade)

  @@unique([fromTopicId, toTopicId, relationType])
  @@index([fromTopicId])
  @@index([toTopicId])
  @@index([relationType])
}

model Event {
  id          String    @id @default(dbgenerated("gen_random_uuid()"))
  name        String
  slug        String    @unique
  description String?
  startDate   DateTime? @db.Timestamptz(6)
  endDate     DateTime? @db.Timestamptz(6)
  createdAt   DateTime? @default(now()) @db.Timestamptz(6)
  updatedAt   DateTime? @default(now()) @updatedAt @db.Timestamptz(6)

  @@index([slug], map: "idx_event_slug")
}

model TagAlias {
  id        String    @id @default(dbgenerated("gen_random_uuid()"))
  tagId     String
  alias     String    @unique
  aliasType AliasType
  language  String?   @default("en")
  createdAt DateTime? @default(now()) @db.Timestamptz(6)
  tag       Tag       @relation(fields: [tagId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@index([alias], map: "idx_tagalias_alias")
  @@index([tagId], map: "idx_tagalias_tag")
}

model AffiliationSources {
  affiliationId String
  sourceId      String
  Affiliation   Affiliation @relation(fields: [affiliationId], references: [id], onDelete: Cascade, onUpdate: NoAction)
  Source        Source      @relation(fields: [sourceId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@id([affiliationId, sourceId])
}

model StatementAuthor {
  id             String        @id @default(dbgenerated("(gen_random_uuid())::text"))
  statementId    String
  personId       String?
  organizationId String?
  role           String?
  orderIndex     Int           @default(0)
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @default(now())
  Organization   Organization? @relation(fields: [organizationId], references: [id], onUpdate: NoAction)
  Person         Person?       @relation(fields: [personId], references: [id], onUpdate: NoAction)
  Statement      Statement     @relation(fields: [statementId], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@unique([statementId, organizationId])
  @@unique([statementId, personId])
  @@index([organizationId])
  @@index([personId])
  @@index([statementId])
}

model CaseHistory {
  id            String            @id @default(cuid())
  caseId        String
  actionType    CaseHistoryAction
  actionBy      String
  actionAt      DateTime          @default(now())
  reason        String?
  previousValue String?
  newValue      String?
  metadata      Json?

  case Case @relation(fields: [caseId], references: [id], onDelete: Cascade)

  @@index([caseId])
  @@index([actionAt])
  @@index([actionType])
}

enum ProfessionType {
  POLITICIAN
  JOURNALIST
  ACADEMIC
  ACTIVIST
  BUSINESS
  CELEBRITY
  RELIGIOUS
  MILITARY
  LEGAL
  MEDICAL
  ARTIST
  ATHLETE
  OTHER
}

enum NationalityType {
  CITIZENSHIP
  ETHNIC_ORIGIN
  CULTURAL_IDENTITY
  RESIDENCY_STATUS
  HISTORICAL_STATE
}

enum AcquisitionMethod {
  BY_BIRTH
  BY_DESCENT
  NATURALISATION
  MARRIAGE
  OTHER
  UNKNOWN
}

enum VerificationLevel {
  UNVERIFIED
  BASIC
  VERIFIED
  TRUSTED
  FULLY_VERIFIED
  PARTIALLY_VERIFIED
  DISPUTED
  LIKELY_FALSE
  DEBUNKED
}

enum OrganizationType {
  MEDIA_OUTLET
  POLITICAL_PARTY
  NGO
  CORPORATION
  UNIVERSITY
  THINK_TANK
  GOVERNMENT_AGENCY
  RELIGIOUS_ORGANIZATION
  ADVOCACY_GROUP
  OTHER
}

enum StatementType {
  ORIGINAL
  RESPONSE
  CLARIFICATION
  RETRACTION
  APOLOGY
}

enum ResponseType {
  CRITICISM
  SUPPORT
  MIXED_RESPONSE
  CLARIFICATION_CHALLENGE
  DISCIPLINARY_ACTION
  PROFESSIONAL_CONSEQUENCE
  APOLOGY_RESPONSE
  INSTITUTIONAL_RESPONSE
  OTHER
}

enum RoleLevel {
  INTERN
  JUNIOR
  MID
  SENIOR
  EXECUTIVE
  BOARD
  HONORARY
}

enum CaseStatus {
  DOCUMENTED
  VERIFIED
  DISPUTED
  RETRACTED
  ONGOING
  ALLEGED
  DEVELOPING
  UPDATED
  CORRECTED
  RESOLVED
  ARCHIVED
}

enum CaseType {
  STATEMENT_CONTROVERSY
  RESPONSE_BACKLASH
  EMPLOYMENT_ACTION
  LEGAL_ACTION
  PROTEST_ACTION
  PLATFORM_ACTION
  VIOLENCE_INCIDENT
  HARASSMENT_CAMPAIGN
  MEDIA_CONTROVERSY
  ACADEMIC_CONTROVERSY
  POLITICAL_CONTROVERSY
  SOCIAL_MEDIA_STORM
  BOYCOTT_CAMPAIGN
  INVESTIGATION
  POLICY_CHANGE
  OTHER
}

enum CaseCategory {
  ANTISEMITISM_ALLEGATION
  ISLAMOPHOBIA_ALLEGATION
  RACISM_ALLEGATION
  FREE_SPEECH
  ACADEMIC_FREEDOM
  CENSORSHIP
  CANCEL_CULTURE
  HATE_SPEECH
  DISCRIMINATION
  RETALIATION
  DEFAMATION
  MISREPRESENTATION
  FACT_DISPUTE
  POLITICAL_PRESSURE
  INSTITUTIONAL_RESPONSE
}

enum CaseSeverity {
  LOW
  MEDIUM
  HIGH
  CRITICAL
  MINIMAL
}

enum ImpactScope {
  INDIVIDUAL
  LOCAL
  INSTITUTIONAL
  NATIONAL
  INTERNATIONAL
  GLOBAL
}

enum LocationType {
  ONLINE
  UNIVERSITY
  WORKPLACE
  GOVERNMENT_BUILDING
  PUBLIC_SPACE
  MEDIA_OUTLET
  CONFERENCE
  PRIVATE_VENUE
  MULTIPLE
}

enum TriggerType {
  STATEMENT
  SOCIAL_MEDIA_POST
  ARTICLE
  SPEECH
  PROTEST
  POLICY
  INVESTIGATION
  MEDIA_COVERAGE
  RESPONSE_TO_INCIDENT
  CUMULATIVE
}

enum ResolutionStatus {
  ONGOING
  PARTIALLY_RESOLVED
  RESOLVED
  ESCALATED
  ABANDONED
  LEGAL_PENDING
  UNDER_REVIEW
}

enum RepercussionSeverity {
  MINIMAL
  MINOR
  MODERATE
  SIGNIFICANT
  SEVERE
  EXTREME
}

enum RepercussionType {
  TERMINATION
  SUSPENSION
  RESIGNATION
  DEMOTION
  CONTRACT_CANCELLATION
  BLACKLISTING
  LAWSUIT
  ARREST
  INVESTIGATION
  CHARGES_FILED
  COORDINATED_DEFAMATION
  NARRATIVE_REFRAMING
  CHARACTER_ASSASSINATION
  MANUFACTURED_SCANDAL
  PUBLIC_APOLOGY
  BOYCOTT
  HARASSMENT_CAMPAIGN
  DEATH_THREATS
  LOSS_OF_PLATFORM
  ACADEMIC_CENSURE
  LICENSE_REVOCATION
  PROFESSIONAL_SHUNNING
  FUNDING_WITHDRAWAL
  SPONSOR_LOSS
  FINE
  DAMAGES_AWARDED
  PARTNERSHIP_ENDED
  BOOKING_CANCELLED
  DEMONETIZATION
  MEMBERSHIP_REVOKED
  CENSURE
  CONDEMNATION
  ACADEMIC_DISINVITATION
  DEGREE_REVOKED
}

enum MediaBias {
  FAR_LEFT
  LEFT
  CENTER_LEFT
  CENTER
  CENTER_RIGHT
  RIGHT
  FAR_RIGHT
  UNKNOWN
}

enum CredibilityRating {
  VERY_LOW
  LOW
  MIXED
  HIGH
  VERY_HIGH
  UNKNOWN
}

enum TagCategory {
  THEME
  LOCATION
  ORGANIZATION
  EVENT
  CONTROVERSY
  POLICY
  OTHER
}

enum TopicType {
  ANTISEMITISM_INCIDENT
  ISRAEL_PALESTINE_CONFLICT
  GAZA_OPERATIONS
  WEST_BANK_SETTLEMENTS
  ZIONISM_DEBATE
  JEWISH_COMMUNITY
  PALESTINIAN_RIGHTS
  BDS_MOVEMENT
  HOLOCAUST_MEMORY
  IHRA_DEFINITION
  UK_POLITICS
  US_POLITICS
  INTERNATIONAL_RELATIONS
  UNIVERSITY_CAMPUS
  MEDIA_COVERAGE
  SOCIAL_MEDIA
  CANCEL_CULTURE
  DEPLATFORMING
  LAWFARE
  SMEAR_CAMPAIGN
  OTHER
}

enum TopicScale {
  LOCAL
  REGIONAL
  NATIONAL
  INTERNATIONAL
  GLOBAL
}

enum TopicStatus {
  EMERGING
  ACTIVE
  DEVELOPING
  ESCALATING
  PEAK
  DECLINING
  RESOLVED
  DORMANT
  RECURRING
}

enum TopicRelationType {
  SUBSET_OF
  CAUSED_BY
  LED_TO
  RELATED_TO
  CONTRADICTS
  SUPPORTS
  PART_OF_SERIES
}

enum TopicCaseRelation {
  PRIMARY
  RELATED
  BACKGROUND
  CONSEQUENCE
  EXAMPLE
}

enum RoleCategory {
  EXECUTIVE_LEADERSHIP
  BOARD_MEMBER
  EDITORIAL_LEADERSHIP
  EDITORIAL_STAFF
  MEDIA_PERSONALITY
  ELECTED_OFFICIAL
  APPOINTED_OFFICIAL
  POLITICAL_STAFF
  ACADEMIC_LEADERSHIP
  ACADEMIC_FACULTY
  RESEARCH
  LEGAL_LEADERSHIP
  LEGAL_PRACTITIONER
  NGO_LEADERSHIP
  NGO_STAFF
  CONSULTANT
  EMPLOYEE
  CONTRACTOR
  MEMBER
  VOLUNTEER
  HONORARY
}

enum AffiliationType {
  EMPLOYMENT
  BOARD_POSITION
  MEMBERSHIP
  FELLOWSHIP
  CONSULTANCY
  ADVISORY
  HONORARY
  VOLUNTEER
  INTERNSHIP
  POLITICAL_APPOINTMENT
  ELECTED_POSITION
}

enum EmploymentStatus {
  FULL_TIME
  PART_TIME
  CONTRACT
  FREELANCE
  PER_DIEM
  SEASONAL
  TEMPORARY
}

enum AppointmentType {
  ELECTED
  APPOINTED
  HIRED
  VOLUNTEER_SELECTED
  NOMINATED
  HEREDITARY
}

enum DepartureReason {
  RESIGNED
  RETIRED
  CAREER_CHANGE
  PERSONAL_REASONS
  TERMINATED
  FIRED_FOR_CAUSE
  LAID_OFF
  POSITION_ELIMINATED
  CONTRACT_ENDED
  FORCED_RESIGNATION
  SCANDAL
  INVESTIGATION
  POLITICAL_PRESSURE
  PUBLIC_PRESSURE
  DECEASED
  UNKNOWN
  NOT_SPECIFIED
}

enum SourceType {
  NEWS_ARTICLE
  OPINION_PIECE
  EDITORIAL
  PRESS_RELEASE
  GOVERNMENT_DOCUMENT
  ACADEMIC_PAPER
  SOCIAL_MEDIA_POST
  VIDEO
  AUDIO
  TRANSCRIPT
  LEGAL_DOCUMENT
  REPORT
  BOOK
  WEBSITE
  INTERVIEW
  SPEECH
  LEAKED_DOCUMENT
  OTHER
}

enum SourceLevel {
  PRIMARY
  SECONDARY
  TERTIARY
  ANALYSIS
}

enum ContentType {
  TEXT
  VIDEO
  AUDIO
  IMAGE
  DOCUMENT
  INTERACTIVE
  DATA
}

enum VerificationStatus {
  VERIFIED
  PARTIALLY_VERIFIED
  UNVERIFIED
  DISPUTED
  DEBUNKED
}

enum FactCheckStatus {
  TRUE
  MOSTLY_TRUE
  MIXED
  MOSTLY_FALSE
  FALSE
  UNPROVEN
  PENDING
}

enum ArchiveMethod {
  WAYBACK_MACHINE
  ARCHIVE_TODAY
  LOCAL_STORAGE
  SCREENSHOT
  PDF_CAPTURE
  FULL_CAPTURE
}

enum BiasRating {
  EXTREME_LEFT
  LEFT
  LEFT_CENTER
  CENTER
  RIGHT_CENTER
  RIGHT
  EXTREME_RIGHT
  CONSPIRACY_PSEUDOSCIENCE
  PRO_SCIENCE
  SATIRE
}

enum OutletType {
  NEWSPAPER
  TELEVISION
  RADIO
  ONLINE_ONLY
  MAGAZINE
  WIRE_SERVICE
  BLOG
  PODCAST
  SOCIAL_MEDIA
  GOVERNMENT
  ACADEMIC
  NGO
  THINK_TANK
}

enum TagStatus {
  PENDING
  APPROVED
  REJECTED
  DEPRECATED
  ARCHIVED
}

enum AliasType {
  SYNONYM
  ABBREVIATION
  TRANSLATION
  HISTORICAL
  COLLOQUIAL
  MISSPELLING
}

enum OrgType {
  ADVOCACY_GROUP
  THINK_TANK
  NGO
  CHARITY
  FOUNDATION
  RESEARCH_INSTITUTE
  POLICY_CENTER
  WATCHDOG
  NEWS_OUTLET
  SOCIAL_MEDIA_PLATFORM
  PUBLISHING_HOUSE
  PRODUCTION_COMPANY
  BROADCASTER
  ONLINE_MEDIA
  ALTERNATIVE_MEDIA
  POLITICAL_PARTY
  PAC
  SUPER_PAC
  CAMPAIGN
  LOBBY_GROUP
  POLITICAL_ACTION_GROUP
  GRASSROOTS_MOVEMENT
  COALITION
  GOVERNMENT_AGENCY
  LEGISLATIVE_BODY
  JUDICIAL_BODY
  EXECUTIVE_OFFICE
  MILITARY_UNIT
  INTELLIGENCE_AGENCY
  DIPLOMATIC_MISSION
  INTERNATIONAL_BODY
  TREATY_ORGANIZATION
  UNIVERSITY
  COLLEGE
  SCHOOL
  RESEARCH_CENTER
  ACADEMIC_DEPARTMENT
  RELIGIOUS_INSTITUTION
  PLACE_OF_WORSHIP
  RELIGIOUS_ORGANIZATION
  FAITH_BASED_CHARITY
  RELIGIOUS_SCHOOL
  DENOMINATIONAL_BODY
  CORPORATION
  COMPANY
  STARTUP
  CONSULTANCY
  LAW_FIRM
  PR_FIRM
  TECH_COMPANY
  FINANCIAL_INSTITUTION
  UNION
  TRADE_ASSOCIATION
  PROFESSIONAL_SOCIETY
  CERTIFICATION_BODY
  STANDARDS_ORGANIZATION
  MUSEUM
  CULTURAL_CENTER
  ARTS_ORGANIZATION
  HERITAGE_GROUP
  COMMUNITY_CENTER
  INFORMAL_GROUP
  OTHER
}

enum LegalStructure {
  NONPROFIT_501C3
  NONPROFIT_501C4
  NONPROFIT_501C6
  NONPROFIT_OTHER
  CHARITABLE_TRUST
  RELIGIOUS_EXEMPT
  CORPORATION
  LLC
  PARTNERSHIP
  SOLE_PROPRIETORSHIP
  COOPERATIVE
  BENEFIT_CORP
  SOCIAL_ENTERPRISE
  GOVERNMENT_ENTITY
  QUASI_GOVERNMENTAL
  INTERNATIONAL_ORG
  INTERGOVERNMENTAL
  UNINCORPORATED
  INFORMAL
  UNKNOWN
}

enum TaxStatus {
  TAX_EXEMPT
  TAXABLE
  PARTIAL_EXEMPT
  PENDING
  REVOKED
  UNKNOWN
}

enum OperationalStatus {
  ACTIVE
  INACTIVE
  DISSOLVED
  SUSPENDED
  MERGED
  ACQUIRED
  BANKRUPTCY
  PENDING_FORMATION
  DORMANT
  UNKNOWN
}

enum FundingSource {
  GOVERNMENT_GRANTS
  GOVERNMENT_CONTRACTS
  FOREIGN_GOVERNMENT
  MULTILATERAL_FUNDING
  INDIVIDUAL_DONORS
  MAJOR_DONORS
  CORPORATE_SPONSORS
  FOUNDATIONS
  MEMBERSHIP_DUES
  VENTURE_CAPITAL
  PRIVATE_EQUITY
  CROWDFUNDING
  PROGRAM_REVENUE
  PRODUCT_SALES
  SERVICE_FEES
  INVESTMENTS
  ENDOWMENT
  MIXED_SOURCES
  UNKNOWN
}

enum TransparencyLevel {
  FULL_DISCLOSURE
  PARTIAL_DISCLOSURE
  MINIMAL_DISCLOSURE
  NO_DISCLOSURE
  LEGALLY_REQUIRED
  VOLUNTARY_TRANSPARENCY
  UNKNOWN
}

enum InfluenceLevel {
  GLOBAL
  INTERNATIONAL
  NATIONAL
  REGIONAL
  STATE_PROVINCIAL
  LOCAL
  COMMUNITY
  NICHE
  MINIMAL
  UNKNOWN
}

enum PoliticalLeaning {
  FAR_LEFT
  LEFT
  CENTER_LEFT
  CENTER
  CENTER_RIGHT
  RIGHT
  FAR_RIGHT
  LIBERTARIAN
  AUTHORITARIAN
  POPULIST
  PROGRESSIVE
  CONSERVATIVE
  SOCIALIST
  COMMUNIST
  FASCIST
  ANARCHIST
  MIXED
  APOLITICAL
  UNKNOWN
}

enum StanceOnIsrael {
  STRONGLY_SUPPORTIVE
  SUPPORTIVE
  CONDITIONALLY_SUPPORTIVE
  NEUTRAL
  CONDITIONALLY_CRITICAL
  CRITICAL
  STRONGLY_CRITICAL
  BDS_SUPPORTER
  MIXED_POSITIONS
  NO_POSITION
  UNKNOWN
}

enum OrganizationSize {
  MICRO
  SMALL
  MEDIUM
  LARGE
  ENTERPRISE
  MEGA
  UNKNOWN
}

enum Gender {
  MALE
  FEMALE
  NON_BINARY
  OTHER
  UNKNOWN
}

enum Nationality {
  USA
  UK
  CANADA
  AUSTRALIA
  ISRAEL
  PALESTINE
  FRANCE
  GERMANY
  RUSSIA
  CHINA
  INDIA
  BRAZIL
  MEXICO
  JAPAN
  SOUTH_KOREA
  SAUDI_ARABIA
  IRAN
  EGYPT
  TURKEY
  SOUTH_AFRICA
  NIGERIA
  OTHER
  UNKNOWN
}

enum Profession {
  POLITICIAN
  DIPLOMAT
  GOVERNMENT_OFFICIAL
  POLITICAL_ADVISOR
  JOURNALIST
  EDITOR
  NEWS_ANCHOR
  COLUMNIST
  COMMENTATOR
  BLOGGER
  PODCASTER
  PROFESSOR
  RESEARCHER
  ACADEMIC_ADMINISTRATOR
  STUDENT
  LAWYER
  JUDGE
  PROSECUTOR
  LEGAL_SCHOLAR
  CEO
  EXECUTIVE
  ENTREPRENEUR
  INVESTOR
  CONSULTANT
  ACTOR
  DIRECTOR
  PRODUCER
  WRITER
  MUSICIAN
  ARTIST
  COMEDIAN
  ACTIVIST
  ORGANIZER
  NGO_LEADER
  ADVOCATE
  CLERGY
  RABBI
  IMAM
  PRIEST
  RELIGIOUS_LEADER
  MILITARY_OFFICER
  INTELLIGENCE_OFFICIAL
  POLICE_OFFICER
  DOCTOR
  NURSE
  RESEARCHER_MEDICAL
  ENGINEER
  DEVELOPER
  TECH_EXECUTIVE
  ATHLETE
  COACH
  SPORTS_EXECUTIVE
  INFLUENCER
  PUBLIC_FIGURE
  OTHER
  UNKNOWN
}

enum Industry {
  POLITICS_GOVERNMENT
  MEDIA_JOURNALISM
  EDUCATION_ACADEMIA
  LAW_LEGAL
  BUSINESS_FINANCE
  TECHNOLOGY
  HEALTHCARE
  ENTERTAINMENT
  SPORTS
  NONPROFIT_NGO
  RELIGION
  MILITARY_DEFENSE
  OTHER
}

enum EducationLevel {
  HIGH_SCHOOL
  SOME_COLLEGE
  BACHELORS
  MASTERS
  DOCTORATE
  PROFESSIONAL
  OTHER
}

enum CelebrityStatus {
  A_LIST
  B_LIST
  NOTABLE
  NICHE_FAMOUS
  INTERNET_FAMOUS
  LOCAL_CELEBRITY
}

enum PersonInfluenceLevel {
  GLOBAL
  INTERNATIONAL
  NATIONAL
  REGIONAL
  LOCAL
  NICHE
}

enum PoliticalAffiliation {
  DEMOCRAT
  REPUBLICAN
  INDEPENDENT_US
  GREEN_US
  LIBERTARIAN_US
  CONSERVATIVE_UK
  LABOUR_UK
  LIBERAL_DEMOCRAT_UK
  GREEN_UK
  LIKUD
  LABOR_IL
  BLUE_WHITE
  RELIGIOUS_ZIONIST
  CONSERVATIVE
  LIBERAL
  SOCIALIST
  COMMUNIST
  NATIONALIST
  NONPARTISAN
  UNKNOWN
  OTHER
}

enum ReputationStatus {
  EXCELLENT
  GOOD
  MIXED
  DAMAGED
  SEVERELY_DAMAGED
  REHABILITATING
}

enum PersonVerificationLevel {
  FULLY_VERIFIED
  VERIFIED
  PARTIALLY_VERIFIED
  UNVERIFIED
  DISPUTED
}

enum Medium {
  TELEVISION_INTERVIEW
  RADIO_INTERVIEW
  NEWSPAPER_INTERVIEW
  PRESS_CONFERENCE
  PRESS_RELEASE
  PODCAST
  VIDEO_PLATFORM
  LIVESTREAM
  BLOG_POST
  ONLINE_ARTICLE
  TWITTER_X
  FACEBOOK
  INSTAGRAM
  TIKTOK
  LINKEDIN
  TELEGRAM
  THREADS
  TRUTH_SOCIAL
  PARLIAMENTARY_SESSION
  CONGRESSIONAL_HEARING
  UN_ASSEMBLY
  COURT_STATEMENT
  ACADEMIC_LECTURE
  BOOK
  ACADEMIC_PAPER
  LETTER
  EMAIL
  LEAKED_DOCUMENT
  PUBLIC_SPEECH
  PANEL_DISCUSSION
  DEBATE
  RALLY
  PROTEST
  PRIVATE_LEAKED
  UNKNOWN
}

enum CaseVisibility {
  DRAFT
  PUBLIC
  PENDING_VERIFICATION
  ARCHIVED
  LOCKED
}

enum CaseHistoryAction {
  CREATED
  PROMOTED_FROM_STATEMENT
  STATUS_CHANGED
  VISIBILITY_CHANGED
  ARCHIVED
  UNARCHIVED
  LOCKED
  UNLOCKED
  FEATURED
  UNFEATURED
  STATEMENT_LINKED
  STATEMENT_UNLINKED
  PERSON_ADDED
  PERSON_REMOVED
  ORGANIZATION_ADDED
  ORGANIZATION_REMOVED
  TAG_ADDED
  TAG_REMOVED
  EDITED
  MERGED
}

enum UserRole {
  ADMIN
  DE
  DBO
  CM
  CI
  BOT
  QA
  AI_CUR
  AI_ED
  AI_VAL
  AI_CITE
  VIEWER
}

enum AuditAction {
  CREATE
  UPDATE
  DELETE
  VIEW
  EXPORT
  IMPORT
  LOGIN
  LOGOUT
  VERIFY
  APPROVE
  REJECT
  ARCHIVE
  RESTORE
}

enum AuditActorType {
  USER
  API_KEY
  SYSTEM
  ANONYMOUS
}

enum AuditStatus {
  SUCCESS
  FAILURE
}

enum AdminContentType {
  CASE
  PERSON
  ORGANIZATION
  STATEMENT
  SOURCE
  TAG
  HARVEST_JOB
  HARVEST_CONFIG
}

enum DraftStatus {
  DRAFT
  SUBMITTED
  IN_REVIEW
  APPROVED
  REJECTED
  PUBLISHED
}

enum ApprovalStatus {
  PENDING
  APPROVED
  REJECTED
  CHANGES_REQUESTED
}

enum JobStatus {
  PENDING
  QUEUED
  RUNNING
  COMPLETED
  FAILED
  CANCELLED
  RETRY
}

enum HarvestType {
  PERSON_ENRICHMENT
  STATEMENT_DISCOVERY
  SOURCE_ARCHIVING
  MEDIA_MONITORING
  SOCIAL_MEDIA_SCAN
  FACT_CHECK
  CITATION_VERIFY
}

enum UserTokenType {
  PASSWORD_RESET
  EMAIL_VERIFICATION
  MAGIC_LINK
  SESSION_INVALIDATION
  MFA_RECOVERY
}
